THE REMASTERED physioLab UI

(High-level conceptual redesign ‚Äî exactly how an IDEO/Apple designer would present it)

Think less ‚Äúlab spreadsheet‚Äù and more ‚Äúmedical-grade flight deck‚Äù for Apex decision-making.

1. The Layout: Stop Stacking, Start Zoning

Right now everything is vertically stacked in a single column, forcing the user to scroll to think.

A better pattern:

üî≥ Zone A ‚Äì Profile Context (thin top bar)

Dark matte strip

Key identifiers only

No pills, no clutter

Auto-collapsing after selection

Proposed:
30y ‚Ä¢ 198 lb ‚Ä¢ 5y training ‚Ä¢ SHBG 30 ‚Ä¢ Arom moderate ‚Ä¢ Anxiety moderate ‚Ä¢ Veteran

Small. Minimal. Always visible without dominating.

üî≥ Zone B ‚Äì Compound Selection Rail (horizontally across)

Instead of tabs that feel like a website from 2011, use a compact component rail:

Injectables | Orals | Interactions | Stack Builder
Each one highlighted with the Physio accent pulse (cyan/purple) on hover.

Below it, a compound chip bar:

[ Test ] [ NPP ] [ Tren ] [ EQ ] [ Mast ] [ Primo ]

Toggle states become pill switches with soft glow, fully Obsidian Pro.

2. ‚ÄúFind My Sweet Spot‚Äù Panel Becomes a Card Trio

Instead of top-right floating buttons:

Three aligned mini-cards:

Sweet Spot Finder (cyan accent)

PDF Report (purple accent)

Model Settings (neutral)

This creates hierarchy and removes random-button syndrome.

3. The Chart Area: You Need a Doctor‚Äôs Dashboard, Not a Spaghetti Bowl

Right now the chart looks like a meteorologist had a breakdown.

Let‚Äôs tame it.

Chart Redesign Principles

Shades never overwhelm lines

Uncertainty bands use transparent mist, not brown blocks

Lines are thin + high contrast, with glow on hover

Risk becomes under-curve fill, not dotted chaos

Y-axis simplified

Gridlines extremely subtle

Vertical dose zones replaced with gradient fades, not blocks

Legend Redesign

Move to left sidebar, vertical stack, ‚Äúalways visible.‚Äù

On hover:

The corresponding line pulses

Others dim to 40% opacity
Classic ‚Äúspotlight‚Äù interaction.

4. Replace ‚ÄúBenefit vs Risk‚Äù With a Multi-View Toggle

Current view forces the user to interpret too much at once.

Provide these modes:

üìà 1. Benefit Curve

Clear. Smooth. Single variable.

‚ö†Ô∏è 2. Risk Curve

Dotted ‚Üí No.
Use shaded under-curve that rises with dose.

üîÄ 3. Efficiency Mode

Benefit √∑ Risk (the true sweet-spot mode)

ü¶Ñ 4. Uncertainty Mode

Shows noise bands only.

This lets the user think instead of decode.

5. Compound Cards (this is where you‚Äôll win)

Left sidebar becomes a vertical stack of Compound Cards, each expandable:

[ Testosterone ]

Saturation point: 500 mg

Efficiency peak: 300 mg

Risk acceleration: 600 mg

My current dose: 200 mg

Suggested: 250‚Äì300 mg

Model confidence: High

This ties directly into your Apex personalization.

Think Little Data ‚Üí Big Insight, without making the user dig.

6. Build a Dose Slider Component That Actually Feels Good

Apple-grade slider:

Smooth inertia

Markers at known inflection points

Micro-labels that show in hover bubbles

Dual-handle option for range setting

7. The Whole Interface Should Be Built on Your Physio Brand Tokens

Right now it‚Äôs half-Obsidian, half-Bootstrap.

You want:

Radial gradient background (#161925 center ‚Üí #101218 edges)

JetBrains Mono for metrics

Neue Haas Grotesk for UI

Cyan/purple/mint accents

Smooth 120‚Äì160ms transitions

2px purple focus ring

Zero hard borders‚Äîeverything is soft shadows + matte edges

That creates the ‚Äúpremium medical device‚Äù look you want.

8. Cognitive Load Reduction

Reduce every sentence on the screen by 40%.

Users should feel like they are piloting a stealth jet, not reading a research thesis.

TL;DR ‚Äî What You Need To Do Next

Here is the concise blueprint your developer/designer needs:

Convert:

Vertical stack ‚Üí Zonal layout

Multi-line clutter ‚Üí Card layout

Hard colors ‚Üí mist gradients

Spaghetti chart ‚Üí spotlight chart

Tab system ‚Üí horizontal rail

Big blocks ‚Üí atomic components

Flat UI ‚Üí Obsidian Pro brand system

This will transform the app from:

‚ÄúCrammed spreadsheet with charts‚Äù

into:

‚ÄúClinical-grade, elite simulation instrument for Apex hormone optimization.‚Äù

## Implementation Roadmap

1. **Zone Framework (Weeks 1-2)**
	- Refactor the top of `AASVisualization` so Profile Context becomes a persistent, 48px matte strip with condensed typography.
	- Replace the tab buttons with a horizontal rail component that supports hover glow + keyboard roving index.
	- Introduce a compound chip rail underneath using the same component tokens as StackBuilder chips.

2. **Hero Utility Trio (Week 2)**
	- Replace floating CTAs with a `UtilityCardRow` component that renders Sweet Spot Finder, PDF Export, and Model Settings as 3 equal-width cards (responsive to stack on mobile).
	- Add Storybook/Vitest coverage that each card fires its handler.

3. **Chart System Overhaul (Weeks 3-4)**
	- Redraw benefit/risk charts with a shared `SpotlightChart` wrapper: thin bezier lines, mist gradients for uncertainty, under-curve fills for risk.
	- Move the legend into a left sidebar component that controls highlight/dim interactions via context.
	- Implement the multi-view toggle (Benefit / Risk / Efficiency / Uncertainty) as a segmented control feeding the same dataset.

4. **Compound Insight Cards (Week 4)**
	- Build `CompoundInsightCard` that reads plateau/guardrail metadata and personalization deltas.
	- Render cards in a scrollable left column with virtualized list when >8 compounds.

5. **Premium Slider Kit (Week 5)**
	- Create a new `DoseSlider` with inertia, inflection markers, micro-tooltips, and optional dual handles.
	- Wire it into InteractionHeatmap and StackBuilder; add pointer + keyboard tests.

6. **Brand Token Alignment (parallel)**
	- Update `index.css` theme primitives (typography stacks, gradients, focus states) per the Obsidian Pro spec.
	- Ensure every new component consumes tokens via Tailwind plugin utilities.

7. **Cognitive Load Pass (final week)**
	- Edit copy across drawers/tooltips to hit the ‚Äú40% fewer words‚Äù target.
	- Add a documentation section in `README.md` describing the new zones, card system, and slider interactions.

## Success Criteria

- Navigation rail + chip bar usable via keyboard and touch, with persisted state.
- Charts switch between the four views instantly (<150ms) with clear visual distinction.
- Compound cards surface personalization insights without scrolling the main chart.
- Interaction matrix and StackBuilder adopt the new slider + token system for consistency.
- Updated vitest suites cover the new components; Lighthouse accessibility score ‚â• 95 for the interactions tab.

## Progress Snapshot ‚Äî November 13, 2025

### Completed

- **Zone Framework Integration**: `AASVisualization` now ships with the Profile Context strip, horizontal navigation rail, and compound chip belt, all wired into persisted state + filter tracking. Filter badges bubble up through `ProfileContextBar`, and the reset switch fans out to view mode, density, legend, and interaction controls.
- **Hero Utility Trio & Insight Column**: Both injectable and oral tabs share the new hero layout‚ÄîChartControlBar + spotlight chart + vertical legend/CompoundInsightCard stack‚Äîcapped with the `UtilityCardRow` cards. Guardrail copy for the oral drawer was rewritten to emphasize hepatic risk, stack archetypes, and bloodwork cadence.
- **Spotlight Foundations**: The four spotlight modes, shared hover tooltip, and supporting data plumbing remain stable and power the new layout without regressions.
- **Legend & Chart Polish**: DoseResponseChart now uses the Obsidian Pro gradients (benefit mist, risk under-fill, uncertainty veil) and wires the CustomLegend hover state into per-compound dimming so the spotlight interaction finally matches the spec from Sections 3‚Äì4.

### In Flight

- **Interaction/Stack Adoption**: Navigation rail + filter badge system must extend into InteractionHeatmap + StackBuilder (keyboard roving index, dirty state propagation, compressed layout states).
- **Slider Kit Prototyping**: Starting to scope the premium dose slider component that will eventually replace the current HTML range inputs across StackBuilder and InteractionHeatmap.

### Next Up

1. Land the slider kit + brand token refresh so StackBuilder/InteractionHeatmap present the same ‚ÄúObsidian Pro‚Äù feel as the hero charts.
2. Apply the zoned Interaction workflow from `2.md`: matrix viewport + detail drawer, modular analytics cards, shared `DoseSlider`, and paired insight bubbles.
3. Add Vitest coverage for the new navigation/utility components and document the Zone A/B architecture in `README.md`.