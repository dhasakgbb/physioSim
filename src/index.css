@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* CLINICAL OBSIDIAN PALETTE v2.0 */
  /* Core Canvas */
  --physio-bg-core: #09090b;      /* Zinc-950 */
  --physio-bg-subtle: #18181b;    /* Zinc-900 */
  --physio-bg-surface: #27272a;   /* Zinc-800 */
  --physio-bg-highlight: #3f3f46; /* Zinc-700 */
  
  /* Structural Borders */
  --physio-border-subtle: #27272a; /* Zinc-800 */
  --physio-border-strong: #3f3f46; /* Zinc-700 */
  --physio-border-active: #52525b; /* Zinc-600 */

  /* Text Hierarchy */
  --physio-text-primary: #f4f4f5;   /* Zinc-100 */
  --physio-text-secondary: #a1a1aa; /* Zinc-400 */
  --physio-text-tertiary: #71717a;  /* Zinc-500 */
  --physio-text-inverse: #09090b;   /* Zinc-950 */

  /* Data Visualization & Semantics */
  --physio-accent-cyan: #06b6d4;    /* Cyan-500 - Primary Data */
  --physio-accent-cyan-dim: #0891b2; /* Cyan-600 */
  --physio-accent-violet: #8b5cf6;  /* Violet-500 - Secondary Data */
  --physio-accent-mint: #10b981;    /* Emerald-500 - Success/Safety */
  --physio-accent-amber: #f59e0b;   /* Amber-500 - Warning */
  --physio-accent-red: #ef4444;     /* Red-500 - Critical/Risk */

  /* Functional Tokens */
  --physio-focus-ring: rgba(6, 182, 212, 0.5);
  --physio-glass-surface: rgba(24, 24, 27, 0.7);
  --physio-radius-sm: 4px;
  --physio-radius-md: 6px;
  --physio-radius-lg: 8px;
  --physio-radius-xl: 12px;

  /* Base Typography */
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  font-size: 14px;
  line-height: 1.5;
  color-scheme: dark;
  color: var(--physio-text-primary);
  background-color: var(--physio-bg-core);
}

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  background-color: var(--physio-bg-core);
  /* Subtle noise texture for "matte" feel */
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
}

/* UTILITIES */
.font-mono {
  font-family: 'JetBrains Mono', monospace;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: var(--physio-bg-core);
}
::-webkit-scrollbar-thumb {
  background: var(--physio-bg-surface);
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: var(--physio-bg-highlight);
}

/* Recharts Overrides for Precision */
.recharts-cartesian-grid-horizontal line,
.recharts-cartesian-grid-vertical line {
  stroke: var(--physio-border-subtle);
  stroke-opacity: 0.5;
}
.recharts-tooltip-cursor {
  stroke: var(--physio-text-tertiary);
  stroke-dasharray: 3 3;
}

/* Range Slider - "Surgical" Style */
.physio-range {
  -webkit-appearance: none;
  width: 100%;
  background: transparent;
  height: 20px; /* Touch target */
  cursor: pointer;
}
.physio-range:focus {
  outline: none;
}
/* Track */
.physio-range::-webkit-slider-runnable-track {
  width: 100%;
  height: 2px;
  background: var(--physio-border-strong);
  border-radius: 1px;
}
.physio-range::-moz-range-track {
  width: 100%;
  height: 2px;
  background: var(--physio-border-strong);
  border-radius: 1px;
}
/* Thumb */
.physio-range::-webkit-slider-thumb {
  -webkit-appearance: none;
  height: 14px;
  width: 14px;
  border-radius: 50%;
  background: var(--physio-bg-core);
  border: 2px solid var(--physio-accent-cyan);
  margin-top: -6px; /* (trackHeight/2) - (thumbHeight/2) */
  box-shadow: 0 0 0 2px var(--physio-bg-core);
  transition: transform 0.1s;
}
.physio-range::-webkit-slider-thumb:hover {
  transform: scale(1.2);
  background: var(--physio-accent-cyan);
}
.physio-range::-moz-range-thumb {
  height: 14px;
  width: 14px;
  border-radius: 50%;
  background: var(--physio-bg-core);
  border: 2px solid var(--physio-accent-cyan);
  margin-top: -6px;
  box-shadow: 0 0 0 2px var(--physio-bg-core);
  transition: transform 0.1s;
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
